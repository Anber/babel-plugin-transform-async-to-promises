function(foo,bar,baz){try{function _temp(result){return result||result;}const _foo=foo();return Promise.resolve(_foo?_temp(bar()):Promise.resolve(baz()).then(_temp));}catch(e){return Promise.reject(e);}}