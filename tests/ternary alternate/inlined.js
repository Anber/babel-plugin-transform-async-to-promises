function(foo,bar,baz){try{const _foo=foo();return Promise.resolve(_foo?function(result){return result||result;}(_foo?bar():baz()):Promise.resolve(_foo?bar():baz()).then(function(result){return result||result;}));}catch(e){return Promise.reject(e);}}