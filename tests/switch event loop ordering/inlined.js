function(delay,callback){try{let _interrupt=false;const _temp=_switch(delay,[[function(){return false;},function(){_interrupt=true;}],[function(){return true;},function(){return Promise.resolve(true).then(function(){_interrupt=true;});}]]);return Promise.resolve(_temp&&_temp.then?_temp.then(function(){return callback();}):callback());}catch(e){return Promise.reject(e);}}