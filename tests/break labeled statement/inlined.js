function(foo){try{let _exit=false,_labeledInterrupt=false;const _temp=Promise.resolve(foo()).then(function(_foo){if(_foo){_labeledInterrupt=true;return;}_exit=true;return false;});return Promise.resolve(_temp&&_temp.then?_temp.then(function(_result){return _exit?_result:true;}):_exit?_temp:true);}catch(e){return Promise.reject(e);}}