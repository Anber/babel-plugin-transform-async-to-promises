const test=_async(v=>{let _interrupt=false;let messages=[];return _continue(_switch(v,[[()=>'case1',()=>{messages.push('case1Start');return _await(wait(messages),()=>{messages.push('case1Stop');_interrupt=true;});}],[()=>'case2',()=>{messages.push('case2Start');return _await(wait(messages),()=>{messages.push('case2Stop');});},_empty],[()=>'case3',()=>{messages.push('case3Start');return _await(wait(messages),()=>{messages.push('case3Stop');_interrupt=true;});}]]),()=>messages);});return Promise.all([test('case1'),test('case2'),test('case3')]);function wait(messages){messages.push('waitStart');return new Promise((resolve,reject)=>setTimeout(resolve,0)).then(()=>{messages.push('waitStop');});}