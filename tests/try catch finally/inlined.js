function(foo,bar,baz){try{var result;return Promise.resolve(_finallyRethrows(function(){return _catch(function(){return Promise.resolve(foo());},function(){return Promise.resolve(bar());});},function(_wasThrown,_result){baz();if(_wasThrown)throw _result;return _result;}));}catch(e){return Promise.reject(e);}}