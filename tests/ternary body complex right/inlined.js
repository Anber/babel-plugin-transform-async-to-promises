function(a,b,c,d){try{function _temp2(_b){function _temp(result){return result||result;}const _c=_a||c();return _a||!_c?_temp(_a?_b:_c&&d()):Promise.resolve(_a?_b:_c&&d()).then(_temp);}const _a=a();return Promise.resolve(_a?Promise.resolve(b()).then(_temp2):_temp2(0));}catch(e){return Promise.reject(e);}}