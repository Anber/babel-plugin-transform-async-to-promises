function(a,b,c,d){try{const _a=a();return Promise.resolve(_a?Promise.resolve(_a?b():0).then(function(_b){const _c=_a||c();return _a||!_c?function(result){return result||result;}(_a?_b:_c&&d()):Promise.resolve(_a?_b:_c&&d()).then(function(result){return result||result;});}):function(_b){const _c=_a||c();return _a||!_c?function(result){return result||result;}(_a?_b:_c&&d()):Promise.resolve(_a?_b:_c&&d()).then(function(result){return result||result;});}(_a?b():0));}catch(e){return Promise.reject(e);}}